{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-c3db3844499db172.js","src/game.js","node_modules/@parcel/runtime-js/lib/runtime-8568776cd7c1e703.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-fc376b9ad89c6dda.js","node_modules/@parcel/runtime-js/lib/runtime-a68a93fffa5a6ef7.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";var HMR_USE_SSE = false;module.bundle.HMR_BUNDLE_ID = \"48d4a72fc3fdd8eb\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, HMR_USE_SSE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var HMR_USE_SSE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, disposedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !['localhost', '127.0.0.1', '0.0.0.0'].includes(hostname) ? 'wss' : 'ws';\n  var ws;\n  if (HMR_USE_SSE) {\n    ws = new EventSource('/__parcel_hmr');\n  } else {\n    try {\n      ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n    } catch (err) {\n      if (err.message) {\n        console.error(err.message);\n      }\n      ws = {};\n    }\n  }\n\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    disposedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'reload') {\n      fullReload();\n    } else if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n        hmrDisposeQueue();\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        let processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('ðŸš¨ [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  if (ws instanceof WebSocket) {\n    ws.onerror = function (e) {\n      if (e.message) {\n        console.error(e.message);\n      }\n    };\n    ws.onclose = function () {\n      console.warn('[parcel] ðŸš¨ Connection to the HMR server was lost');\n    };\n  }\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] âœ¨ Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          ðŸš¨ ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>ðŸ’¡ ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>ðŸ“ <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    }\n\n    // Always traverse to the parent bundle, even if we already replaced the asset in this bundle.\n    // This is required in case modules are duplicated. We need to ensure all instances have the updated code.\n    if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDisposeQueue() {\n  // Dispose all old assets.\n  for (let i = 0; i < assetsToDispose.length; i++) {\n    let id = assetsToDispose[i][1];\n    if (!disposedAssets[id]) {\n      hmrDispose(assetsToDispose[i][0], id);\n      disposedAssets[id] = true;\n    }\n  }\n  assetsToDispose = [];\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    let assetsToAlsoAccept = [];\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      let additionalAssets = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (Array.isArray(additionalAssets) && additionalAssets.length) {\n        assetsToAlsoAccept.push(...additionalAssets);\n      }\n    });\n    if (assetsToAlsoAccept.length) {\n      let handled = assetsToAlsoAccept.every(function (a) {\n        return hmrAcceptCheck(a[0], a[1]);\n      });\n      if (!handled) {\n        return fullReload();\n      }\n      hmrDisposeQueue();\n    }\n  }\n}","import bgImg from './images/bg.png';\nimport patrolImg from './images/patrol.png';\nimport tankerSprite from './images/tanker-sprite-2.png';\n\nconst canvas = document.getElementById('game-canvas');\nconst ctx = canvas.getContext('2d');\nconst DEFAULT_WIDTH = 800;\nconst DEFAULT_HEIGHT = 500;\ncanvas.width = DEFAULT_WIDTH;\ncanvas.height = DEFAULT_HEIGHT;\n\nconst TANKER_IMAGE_WIDTH = 344,\n  TANKER_IMAGE_HEIGHT = 52\n\nlet score = 0;\nlet gameFrame = 0;\nlet warnings = 0;\nconst gameSpeed = 1;\nlet previousChainLength = 0;\nlet isPaused = false;\nlet detectionRisk = 0; // 0-100 scale for patrol detection risk\nctx.font = '24px sans-serif'\n\n// Expose game state to window for cross-module access\nwindow.gameState = {\n  get isPaused() { return isPaused; },\n  set isPaused(value) {\n    isPaused = value;\n    // Pause/resume all audio when game is paused\n    if (isPaused) {\n      pauseAllAudio();\n    } else {\n      resumeAllAudio();\n    }\n  }\n};\n\n// Audio control functions\nfunction pauseAllAudio() {\n  const allAudio = document.querySelectorAll('audio');\n  allAudio.forEach(audio => {\n    if (!audio.paused) {\n      audio.pause();\n    }\n  });\n}\n\nfunction resumeAllAudio() {\n  // Only resume looping background audio, not one-shot sounds\n  music.play().catch(() => { });\n  wind1.play().catch(() => { });\n  waves.play().catch(() => { });\n  ship.play().catch(() => { });\n}\n\n// Audio elements map\nconst audioElements = {\n  metal1: document.getElementById('metal1'),\n  metal2: document.getElementById('metal2'),\n  metal3: document.getElementById('metal3'),\n  metal4: document.getElementById('metal4'),\n  metal5: document.getElementById('metal5')\n};\n\n// All other audio elements\nconst music = document.getElementById('music');\nconst wind1 = document.getElementById('wind1');\nconst waves = document.getElementById('waves');\nconst ship = document.getElementById('ship');\nconst winch1 = document.getElementById('winch1');\nconst winch5 = document.getElementById('winch5');\nconst winch8 = document.getElementById('winch8');\nconst scrape7 = document.getElementById('scrape7');\nconst alarm1 = document.getElementById('alarm1');\nconst splash = document.getElementById('splash');\n// Get metal sounds from audioElements for convenience\nconst metal1 = audioElements.metal1;\nconst metal2 = audioElements.metal2;\nconst metal3 = audioElements.metal3;\nconst metal4 = audioElements.metal4;\nconst metal5 = audioElements.metal5;\n\nconst targetPosition = {\n  x: canvas.width / 2 - (TANKER_IMAGE_WIDTH / 2),\n  y: canvas.height / 1.5,\n}\n\ndocument.addEventListener('keydown', function (e) {\n  e.preventDefault();\n  // Reel anchor up - slower (harder to pull up)\n  if (e.key === 'ArrowUp') {\n    tanker.chainLength = Math.max(0, tanker.chainLength - 5);\n    winch8.volume = 0.25;\n    winch8.play().catch(() => { });\n  }\n  // Lower anchor - faster (easier to drop) - only if anchors remain\n  if (e.key === 'ArrowDown' && hud.remainingAnchors > 0) {\n    tanker.chainLength = Math.min(tanker.chainLength + 20, tanker.chainLengthMax);\n    winch1.volume = 0.25;\n    winch1.play().catch(() => { });\n  }\n  // Back\n  if (e.key === 'ArrowLeft') {\n    targetPosition.x -= 5;\n  }\n  // Forward\n  if (e.key === 'ArrowRight') {\n    targetPosition.x += 20;\n  }\n})\n\n// Player\nconst tankerImage = new Image();\ntankerImage.src = tankerSprite;\n\nclass Tanker {\n  constructor() {\n    this.x = targetPosition.x;\n    this.y = targetPosition.y;\n    this.frameX = 0;\n    this.frameY = 0;\n    this.frame = 0;\n    this.spriteWidth = TANKER_IMAGE_WIDTH;\n    this.spriteHeight = TANKER_IMAGE_HEIGHT;\n    this.chainLength = 0;\n    this.chainLengthMax = 2000; // Increased to allow 4x depth (max depth ~470, so 4x ~1880)\n  }\n\n  update() {\n    const dx = this.x - targetPosition.x;\n    const dy = this.y - targetPosition.y;\n\n    // Calculate speed reduction based on anchor dragging\n    let speedMultiplier = 1.0; // Normal speed\n\n    // EXTREME slowdown when dragging through a cable (5 seconds after cable cut)\n    if (hud.lastCableCut && gameFrame - hud.lastCableTime < 300) {\n      // Nearly stopped: 2-8% speed depending on cable difficulty\n      const cableDifficulty = hud.lastCableCut.difficulty || 1;\n      speedMultiplier = 0.02 + (cableDifficulty * 0.012); // Harder cables = slightly more resistance\n    } else if (this.chainLength > 0) {\n      // Anchor is deployed - boat slows down\n      if (this.chainLength >= hud.depth) {\n        // Anchor is touching/dragging on seabed - dramatic slowdown\n        const dragAmount = this.chainLength - hud.depth;\n        const maxDrag = hud.depth * 4; // Max optimal range\n        const dragRatio = Math.min(dragAmount / maxDrag, 1.0);\n\n        // Speed reduces dramatically: 30% speed when just touching, down to 5% at max drag\n        speedMultiplier = 0.3 - (dragRatio * 0.25);\n      } else {\n        // Anchor deployed but not touching seabed - moderate slowdown based on chain length\n        const deployRatio = Math.min(this.chainLength / hud.depth, 1.0);\n        // Speed reduces from 100% to 50% as anchor gets closer to seabed\n        speedMultiplier = 1.0 - (deployRatio * 0.5);\n      }\n    }\n\n    // Apply speed with drag resistance\n    const effectiveSpeed = 100 / speedMultiplier;\n    if (targetPosition.x != this.x) {\n      this.x -= dx / effectiveSpeed;\n    }\n    if (targetPosition.y != this.y) {\n      this.y -= dy / effectiveSpeed;\n    }\n    if (gameFrame % 5 == 0) {\n      // Dynamic animation based on chain length relative to optimal range\n      const minOptimal = hud.depth * 2;\n      const maxOptimal = hud.depth * 4;\n      const inSweetSpot = this.chainLength >= minOptimal && this.chainLength <= maxOptimal;\n\n      if (this.chainLength < 10) {\n        // No anchor deployed\n        this.frameY = 0;\n        this.frameX = 0;\n      } else if (this.chainLength < minOptimal * 0.5) {\n        // Light deployment (< half of min optimal)\n        this.frameY = 1;\n        this.frameX = 0;\n      } else if (!inSweetSpot) {\n        // Moderate deployment (approaching or past sweet spot)\n        if (Math.random() <= 0.01) winch5.play().catch(() => { })\n        if (Math.random() <= 0.96) {\n          this.frameY = 0;\n          this.frameX = 1;\n        } else {\n          this.frameY = 0;\n          this.frameX = 2;\n        }\n      } else {\n        // In sweet spot (2x-4x depth)\n        if (Math.random() <= 0.8) {\n          this.frameY = 0;\n          this.frameX = 2;\n        } else {\n          this.frameY = 1;\n          this.frameX = 2;\n        }\n      }\n\n      // Scraping and creaking sounds when anchor is dragging on seabed\n      if (this.chainLength >= hud.depth) {\n        const dragAmount = this.chainLength - hud.depth;\n        const maxDrag = hud.depth * 4;\n        const dragRatio = Math.min(dragAmount / maxDrag, 1.0);\n\n        // More frequent sounds the more you drag: 5% base, up to 25% at max drag\n        const soundChance = 0.05 + (dragRatio * 0.20);\n\n        if (Math.random() <= soundChance) {\n          // Random metal creaking sounds\n          const metalSounds = [metal1, metal2, metal3, metal4, metal5];\n          const randomMetal = metalSounds[Math.floor(Math.random() * metalSounds.length)];\n          randomMetal.volume = 0.08 + (dragRatio * 0.12); // Louder with more drag\n          randomMetal.play().catch(() => { });\n\n          this.frameY = 1;\n          this.frameX = 2;\n        }\n\n        // Scraping sound at optimal dragging depth\n        if (hud.isAnchorDown && (Math.random() <= 0.08)) {\n          scrape7.volume = 0.12 + (dragRatio * 0.08);\n          scrape7.play().catch(() => { });\n        }\n      }\n    }\n  }\n  draw() {\n    ctx.drawImage(\n      tankerImage,\n      this.frameX * this.spriteWidth,\n      this.frameY * this.spriteHeight,\n      this.spriteWidth,\n      this.spriteHeight,\n      this.x,\n      this.y,\n      this.spriteWidth,\n      this.spriteHeight\n    );\n  }\n}\n\nconst tanker = new Tanker();\nconst background = new Image();\nbackground.src = bgImg;\n\nconst BG = {\n  x1: 0,\n  x2: canvas.width,\n  y: 0,\n  width: canvas.width,\n  height: canvas.height\n}\n\nfunction createBackground() {\n  BG.x1 -= gameSpeed;\n  BG.x2 -= gameSpeed;\n\n  if (BG.x1 < -BG.width) {\n    BG.x1 = BG.x2 + BG.width; // Add new background when current moves out\n  }\n  if (BG.x2 < -BG.width) {\n    BG.x2 = BG.x1 + BG.width; // Add new background when current moves out\n  }\n\n  // Draw the background images on both sides\n  ctx.drawImage(background, BG.x1, BG.y, BG.width, BG.height);\n  ctx.drawImage(background, BG.x2, BG.y, BG.width, BG.height);\n}\n\n// Patrols\nconst patrolsArray = [];\nconst patrolImage = new Image();\npatrolImage.src = patrolImg\n\nclass Patrol {\n  constructor() {\n    // Spawn patrols off-screen to the right with some randomness\n    this.x = canvas.width + Math.random() * canvas.width * 0.5;\n    // Y position varies slightly for visual interest\n    this.y = canvas.height / 1.4 + (Math.random() * 40 - 20);\n    this.frameX = 0;\n    this.frameY = 0;\n    this.distance;\n    this.frame = 0;\n    this.spriteWidth = 52;\n    this.spriteHeight = 52;\n    this.sound = Math.random() <= 0.5 ? 'alarm1' : 'alarm2';\n    this.speed = 0.3 + Math.random() * 0.4; // Initial speed 0.3-0.7\n  }\n  update() {\n    this.age++;\n    this.x -= this.speed; // Move upward\n  }\n  setSpeed(speed) {\n    this.speed = speed\n  }\n  draw() {\n    ctx.drawImage(\n      patrolImage,\n      this.frameX * this.spriteWidth,\n      this.frameY * this.spriteHeight,\n      this.spriteWidth,\n      this.spriteHeight,\n      this.x,\n      this.y,\n      this.spriteWidth,\n      this.spriteHeight\n    );\n  }\n}\n\nfunction randomBetween(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n// Particle system for water splash effects\nclass Particle {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n    this.vx = (Math.random() - 0.5) * 2; // Small horizontal velocity\n    this.vy = (Math.random() * -2) - 0.5; // Small upward velocity\n    this.gravity = 0.15;\n    this.life = 1.0;\n    this.decay = 0.05; // Faster fade for brief splash\n    this.size = Math.random() * 1.5 + 1; // Very small particles (1-2.5px)\n    this.color = `rgba(255, 255, 255, ${this.life})`;\n  }\n\n  update() {\n    this.x += this.vx;\n    this.y += this.vy;\n    this.vy += this.gravity;\n    this.life -= this.decay;\n    const alpha = this.life * 0.6;\n    this.color = `rgba(220, 240, 255, ${alpha})`;\n  }\n\n  draw() {\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n    ctx.fill();\n  }\n\n  isDead() {\n    return this.life <= 0;\n  }\n}\n\nconst particlesArray = [];\n\nfunction createSplashParticles(x, y, count = 15) {\n  for (let i = 0; i < count; i++) {\n    particlesArray.push(new Particle(x, y));\n  }\n}\n\nfunction updateParticles() {\n  for (let i = particlesArray.length - 1; i >= 0; i--) {\n    particlesArray[i].update();\n    particlesArray[i].draw();\n\n    if (particlesArray[i].isDead()) {\n      particlesArray.splice(i, 1);\n    }\n  }\n}\n\nfunction createPatrols() {\n  // Don't spawn patrols for the first 90 seconds (5400 frames) to give player time to learn\n  const minimumStartDelay = 5400; // 90 seconds at 60 FPS\n\n  // Spawn patrols very rarely: every 200-600 seconds / 3.3-10 minutes (at 60 FPS)\n  if (gameFrame > minimumStartDelay && gameFrame % randomBetween(12000, 36000) === 0) {\n    patrolsArray.push(new Patrol());\n  }\n\n  // Calculate detection risk ONLY if anchor is down\n  detectionRisk = 0;\n\n  for (let i = 0; i < patrolsArray.length; i++) {\n    // alarm1.play()\n    patrolsArray[i].update();\n    patrolsArray[i].draw();\n    if (patrolsArray[i].x > 200 && patrolsArray[i].x < 700) {\n      patrolsArray[i].setSpeed(0.5)\n\n      // Only calculate risk if anchor is down\n      if (tanker.chainLength > 0) {\n        const distance = Math.abs(patrolsArray[i].x - (tanker.x + TANKER_IMAGE_WIDTH / 2));\n        if (distance < 400) {\n          // Exponential decay: risk drops off quickly with distance\n          // At distance 0: 100%, at 200: ~14%, at 400: ~2%\n          const proximityRisk = 100 * Math.exp(-distance / 100);\n          detectionRisk = Math.max(detectionRisk, proximityRisk);\n        }\n      }\n\n      if (patrolsArray[i].x > 400 && patrolsArray[i].x < 550) {\n        if (tanker.chainLength != 0) {\n          // Accumulate warnings faster when in critical detection zone\n          warnings += 2;\n          detectionRisk = Math.max(detectionRisk, 85); // Very high risk in detection zone with anchor down\n        }\n        patrolsArray[i].setSpeed(0.3)\n      }\n    } else {\n      patrolsArray[i].setSpeed(1)\n    }\n    if (patrolsArray[i].x < (0 - 52)) {\n      score++;\n      patrolsArray.splice(i, 1);\n      i--;\n    }\n  }\n}\n\nfunction createTanker() {\n  tanker.update();\n  tanker.draw();\n\n  // Anchor position at the front right of the ship\n  const anchorX = tanker.x + (TANKER_IMAGE_WIDTH * 0.9); // Front right edge\n  const anchorY = tanker.y + TANKER_IMAGE_HEIGHT; // At ship's bottom edge\n\n  // Play warning alarm when entering critical depth (5x)\n  // Actual anchor loss is handled by Hud.update()\n  const anchorLossThreshold = hud.depth * 5;\n  if (tanker.chainLength >= anchorLossThreshold) {\n    if (previousChainLength < anchorLossThreshold) {\n      // First time crossing threshold - play alarm\n      alarm1.volume = 0.3;\n      alarm1.play().catch(() => { });\n    }\n  }\n\n  // Check if anchor was just lost (from Hud.update())\n  if (hud.anchorLost && gameFrame === hud.anchorLostTime) {\n    createSplashParticles(anchorX, anchorY, 25); // Big splash\n    splash.volume = 0.3;\n    splash.play().catch(() => { });\n    // Add detection risk penalty\n    detectionRisk = Math.min(100, detectionRisk + 20);\n  }\n\n  // Trigger small splash when anchor first deploys (0 -> 10+)\n  if (tanker.chainLength >= 10 && previousChainLength === 0) {\n    createSplashParticles(anchorX, anchorY, 10);\n    splash.volume = 0.1;\n    splash.play().catch(() => { });\n  }\n\n  // Trigger splash when anchor is raised (10+ -> 0)\n  // More particles if raising from deep deployment\n  if (tanker.chainLength === 0 && previousChainLength >= 10) {\n    const particleCount = Math.min(15, 8 + Math.floor(previousChainLength / 100));\n    createSplashParticles(anchorX, anchorY, particleCount);\n    splash.volume = Math.min(0.2, 0.1 + previousChainLength / 5000);\n    splash.play().catch(() => { });\n  }\n\n  previousChainLength = tanker.chainLength;\n}\n\n// Cable type definitions with gameplay properties\nconst CABLE_TYPES = {\n  SCRAP: {\n    name: 'Old Scrap Cable',\n    color: '#8b8b7a',\n    difficulty: 1,\n    reward: 1,\n    risk: 1,\n    rarity: 0.35, // 35% chance\n    riskIncrease: 0,\n  },\n  RESEARCH: {\n    name: 'Research Sensor Cable',\n    color: '#5a8ca8',\n    difficulty: 1,\n    reward: 2,\n    risk: 1,\n    rarity: 0.30, // 30% chance\n    riskIncrease: 5,\n  },\n  FIBER: {\n    name: 'Fiber Data Cable',\n    color: '#a8f088',\n    difficulty: 3,\n    reward: 4,\n    risk: 3,\n    rarity: 0.25, // 25% chance\n    riskIncrease: 15,\n  },\n  MILITARY: {\n    name: 'Military Surveillance Line',\n    color: '#ff6b7a',\n    difficulty: 5,\n    reward: 4,\n    risk: 5,\n    rarity: 0.06, // 6% chance\n    riskIncrease: 40,\n  },\n  HVDC: {\n    name: 'HVDC Power Cable',\n    color: '#ffa940',\n    difficulty: 5,\n    reward: 5,\n    risk: 5,\n    rarity: 0.04, // 4% chance\n    riskIncrease: 35,\n  },\n};\n\nclass Hud {\n  constructor() {\n    this.depth = Math.floor(this.generateRealisticDepth());\n    this.isAnchorDown = false;\n    this.draggedInMeters = 0;\n    this.cablesCut = 0; // Total cables severed\n    this.cablesByType = { // Track by type\n      SCRAP: 0,\n      RESEARCH: 0,\n      FIBER: 0,\n      MILITARY: 0,\n      HVDC: 0,\n    };\n    this.lastCableCut = null; // Store last cable cut info\n    this.lastCableTime = 0; // When last cable was cut\n    this.depthHistory = []; // Track past depths for graph\n    this.futureDepths = []; // Track upcoming depths for graph\n    this.maxHistoryLength = 30; // Keep 30 past readings (50% of graph)\n    this.maxFutureLength = 30; // Keep 30 future readings (50% of graph)\n    this.depthTrend = 0; // Tracks if we're in shallow basin or approaching deep depression\n    this.optimalCenterDepth = 3.0; // Center of optimal range (varies between 2.5-3.5)\n    this.optimalVariance = 0.3; // Â±0.3 around center\n    this.remainingAnchors = 2; // Ship has 2 anchors total\n    this.anchorLost = false; // Track if anchor was just lost\n    this.anchorLostTime = 0; // When anchor was lost\n    this.anchorLossReason = ''; // Track reason: 'cable' or 'depth'\n    this.anchorDangerStartTime = 0; // Track when anchor entered danger zone\n    this.missionSuccess = false; // Track if mission succeeded\n    this.successTime = 0; // When mission was completed\n\n    // Pre-generate initial future depths\n    this.generateFutureDepths();\n  }\n\n  // Select random cable type based on rarity\n  selectCableType() {\n    const roll = Math.random();\n    let cumulative = 0;\n\n    for (const [key, cable] of Object.entries(CABLE_TYPES)) {\n      cumulative += cable.rarity;\n      if (roll < cumulative) {\n        return { type: key, ...cable };\n      }\n    }\n    return { type: 'SCRAP', ...CABLE_TYPES.SCRAP };\n  }\n\n  // Generate future depth predictions\n  generateFutureDepths() {\n    this.futureDepths = [];\n    let lastDepth = this.depth;\n\n    for (let i = 0; i < this.maxFutureLength; i++) {\n      // Use same gradual depth generation with smoothing\n      if (Math.random() < 0.90) {\n        // Very smooth transition (90% of the time)\n        const targetDepth = this.generateRealisticDepth();\n        lastDepth = Math.floor(lastDepth * 0.92 + targetDepth * 0.08);\n      } else if (Math.random() < 0.97) {\n        // Moderate change (7% of the time)\n        const targetDepth = this.generateRealisticDepth();\n        lastDepth = Math.floor(lastDepth * 0.75 + targetDepth * 0.25);\n      } else {\n        // Sudden change (3% of the time)\n        lastDepth = Math.floor(this.generateRealisticDepth());\n      }\n      this.futureDepths.push(lastDepth);\n    }\n  }\n\n  // Update optimal depth with variance (simulates cable depth variations)\n  updateOptimalDepth() {\n    // Slowly vary the optimal depth between 2.5-3.5x\n    this.optimalCenterDepth += (Math.random() - 0.5) * 0.05; // Small random walk\n    // Clamp between 2.5 and 3.5\n    this.optimalCenterDepth = Math.max(2.5, Math.min(3.5, this.optimalCenterDepth));\n  }\n\n  // Generate realistic Baltic Sea depth with varied terrain\n  generateRealisticDepth() {\n    const rand = Math.random();\n\n    // 70% shallow basin (20-80m) - typical Baltic Sea\n    if (rand < 0.70) {\n      return randomBetween(20, 80);\n    }\n    // 20% moderate depth (80-150m) - sloping areas\n    else if (rand < 0.90) {\n      return randomBetween(80, 150);\n    }\n    // 8% deep depressions (150-300m) - glacial features\n    else if (rand < 0.98) {\n      return randomBetween(150, 300);\n    }\n    // 2% very deep (300-459m) - Landsort Deep-like trenches\n    else {\n      return randomBetween(300, 459);\n    }\n  }\n\n  update() {\n    // Less frequent depth changes: every 600 frames (10 seconds at 60 FPS)\n    if (gameFrame % 600 == 0) {\n      // Move current depth to history\n      this.depthHistory.push(this.depth);\n      if (this.depthHistory.length > this.maxHistoryLength) {\n        this.depthHistory.shift(); // Remove oldest\n      }\n\n      // Move first future depth to current\n      if (this.futureDepths.length > 0) {\n        this.depth = this.futureDepths.shift();\n      }\n\n      // Generate one new future depth to maintain the array\n      if (this.futureDepths.length > 0) {\n        const lastFuture = this.futureDepths[this.futureDepths.length - 1];\n        let newFutureDepth;\n\n        // Much more gradual depth transitions\n        if (Math.random() < 0.90) {\n          // Very smooth transition (90% of the time)\n          const targetDepth = this.generateRealisticDepth();\n          newFutureDepth = Math.floor(lastFuture * 0.92 + targetDepth * 0.08);\n        } else if (Math.random() < 0.97) {\n          // Moderate change (7% of the time)\n          const targetDepth = this.generateRealisticDepth();\n          newFutureDepth = Math.floor(lastFuture * 0.75 + targetDepth * 0.25);\n        } else {\n          // Sudden change (3% of the time)\n          newFutureDepth = Math.floor(this.generateRealisticDepth());\n        }\n\n        this.futureDepths.push(newFutureDepth);\n      }\n\n      // Update optimal cable depth variance\n      this.updateOptimalDepth();\n    }\n\n    if (gameFrame % 30 == 0) {\n      // Dynamic optimal range: center Â±variance (e.g., 3.0 Â±0.3 = 2.7-3.3x depth)\n      const minOptimal = this.depth * (this.optimalCenterDepth - this.optimalVariance);\n      const maxOptimal = this.depth * (this.optimalCenterDepth + this.optimalVariance);\n      const perfectOptimal = this.depth * this.optimalCenterDepth; // Best depth (e.g., 3.0x)\n\n      // Check if anchor is deployed deep enough to drag (min optimal or deeper)\n      const anchorLossThreshold = this.depth * 5; // Critical depth\n      const dangerZoneEnd = maxOptimal * 1.5;\n      const inDangerZone = tanker.chainLength > maxOptimal && tanker.chainLength <= dangerZoneEnd;\n      const inCriticalZone = tanker.chainLength >= anchorLossThreshold;\n\n      // Allow cable cutting at any depth >= minOptimal (including danger zone)\n      this.isAnchorDown = (tanker.chainLength >= minOptimal && !inCriticalZone);\n\n      if (this.isAnchorDown) {\n        this.draggedInMeters += 10;\n\n        // Cable encounter probability based on how close to perfect depth\n        const depthDiff = Math.abs(tanker.chainLength - perfectOptimal);\n        const maxDiff = perfectOptimal * this.optimalVariance;\n\n        // Probability calculation\n        let encounterChance;\n        if (tanker.chainLength <= maxOptimal) {\n          // GREEN ZONE: 1.0 at perfect depth, decreases to 0.3 at edges\n          encounterChance = 1.0 - (depthDiff / maxDiff) * 0.7;\n        } else if (inDangerZone) {\n          // DANGER ZONE (too deep): reduced efficiency (0.15 - 0.05)\n          const dangerDepth = (tanker.chainLength - maxOptimal) / (dangerZoneEnd - maxOptimal);\n          encounterChance = 0.15 - (dangerDepth * 0.10);\n        } else {\n          encounterChance = 0.05; // Very low outside zones\n        }\n\n        // Extremely rare: 0.15% base chance per check\n        if (Math.random() < encounterChance * 0.0015) {\n          // Select cable type\n          const cable = this.selectCableType();\n\n          // Difficulty check: harder cables need better depth accuracy\n          const difficultyThreshold = 1.0 - (cable.difficulty * 0.15); // Difficulty 5 = 0.25 threshold\n          const passedCheck = encounterChance >= difficultyThreshold;\n\n          if (passedCheck) {\n            this.cablesCut++;\n            this.cablesByType[cable.type]++;\n            this.lastCableCut = cable;\n            this.lastCableTime = gameFrame;\n\n            // WIN CONDITION: Successfully cutting MILITARY or HVDC cable wins the mission!\n            if (cable.type === 'MILITARY' || cable.type === 'HVDC') {\n              this.missionSuccess = true;\n              this.successTime = gameFrame;\n            }\n\n            // Increase detection risk based on cable type\n            detectionRisk = Math.min(100, detectionRisk + cable.riskIncrease);\n\n            // Risk of losing anchor when cutting cable (higher for harder cables)\n            // SCRAP: 5%, RESEARCH: 10%, FIBER: 25%, MILITARY: 40%, HVDC: 50%\n            const anchorLossChance = cable.difficulty * 0.10;\n            if (Math.random() < anchorLossChance && this.remainingAnchors > 0) {\n              this.remainingAnchors--;\n              this.anchorLost = true;\n              this.anchorLostTime = gameFrame;\n              this.anchorLossReason = 'cable'; // Lost due to cable cutting\n              tanker.chainLength = 0; // Anchor is lost, chain goes to zero\n\n              // Play alarm sound\n              alarm1.volume = 0.3;\n              alarm1.play().catch(() => { });\n\n              console.log(`Anchor lost from cable! Remaining: ${this.remainingAnchors}`);\n            }\n\n            // Play appropriate sound based on cable reward\n            if (cable.reward >= 4) {\n              // High value cables - louder, more distinct sound\n              metal3.volume = 0.25;\n              metal3.play().catch(() => { });\n              setTimeout(() => {\n                metal4.volume = 0.2;\n                metal4.play().catch(() => { });\n              }, 100);\n            } else if (cable.reward >= 2) {\n              // Medium value\n              metal3.volume = 0.15;\n              metal3.play().catch(() => { });\n            } else {\n              // Low value - subtle sound\n              metal1.volume = 0.1;\n              metal1.play().catch(() => { });\n            }\n          }\n        }\n      }\n\n      // Check if anchor is in critical danger zone (>5x depth) for too long\n      // (anchorLossThreshold already defined above in cable cutting logic)\n      if (tanker.chainLength >= this.depth * 5) {\n        // Anchor is critically deep\n        if (this.anchorDangerStartTime === 0) {\n          // Just entered danger zone\n          this.anchorDangerStartTime = gameFrame;\n        } else if (gameFrame - this.anchorDangerStartTime > 300 && this.remainingAnchors > 0) {\n          // Been in danger zone for 5 seconds (300 frames) - lose anchor!\n          this.remainingAnchors--;\n          this.anchorLost = true;\n          this.anchorLostTime = gameFrame;\n          this.anchorLossReason = 'depth'; // Lost due to being too deep\n          tanker.chainLength = 0; // Anchor is lost\n          this.anchorDangerStartTime = 0; // Reset timer\n\n          // Play alarm sound\n          alarm1.volume = 0.3;\n          alarm1.play().catch(() => { });\n\n          console.log(`Anchor lost from depth! Remaining: ${this.remainingAnchors}`);\n        }\n      } else {\n        // Not in danger zone, reset timer\n        this.anchorDangerStartTime = 0;\n      }\n    }\n  }\n}\n\nconst hud = new Hud()\n\nfunction createHud() {\n  hud.update();\n}\n\nfunction drawHUD() {\n  // Set up HUD styling\n  ctx.save();\n\n  // Cable cut notification banner (center top)\n  if (hud.lastCableCut && gameFrame - hud.lastCableTime < 1800) { // Show for 30 seconds\n    const elapsed = gameFrame - hud.lastCableTime;\n    const opacity = elapsed < 1740 ? 1.0 : (1800 - elapsed) / 60; // Fade out in last 1s\n\n    const bannerWidth = 400;\n    const bannerHeight = 70;\n    const bannerX = (canvas.width - bannerWidth) / 2;\n    const bannerY = 20;\n\n    // Background\n    ctx.globalAlpha = opacity * 0.95;\n    ctx.fillStyle = 'rgba(10, 26, 36, 0.95)';\n    ctx.fillRect(bannerX, bannerY, bannerWidth, bannerHeight);\n\n    // Border with cable color\n    ctx.strokeStyle = hud.lastCableCut.color;\n    ctx.lineWidth = 3;\n    ctx.strokeRect(bannerX, bannerY, bannerWidth, bannerHeight);\n\n    // Title\n    ctx.fillStyle = '#a8f088';\n    ctx.font = 'bold 13px sans-serif';\n    ctx.textAlign = 'center';\n    ctx.fillText('âš“ CABLE DAMAGED', bannerX + bannerWidth / 2, bannerY + 20);\n\n    // Cable type name\n    ctx.fillStyle = hud.lastCableCut.color;\n    ctx.font = 'bold 16px sans-serif';\n    ctx.fillText(hud.lastCableCut.name.toUpperCase(), bannerX + bannerWidth / 2, bannerY + 42);\n\n    // Stats (Reward & Risk)\n    ctx.font = '11px sans-serif';\n    ctx.fillStyle = '#e8e8d8';\n    const rewardStars = 'â˜…'.repeat(hud.lastCableCut.reward);\n    const riskLevel = hud.lastCableCut.risk >= 4 ? 'HIGH RISK' : hud.lastCableCut.risk >= 3 ? 'MEDIUM' : 'LOW RISK';\n    ctx.fillText(`Value: ${rewardStars} | ${riskLevel}`, bannerX + bannerWidth / 2, bannerY + 60);\n\n    ctx.globalAlpha = 1.0;\n    ctx.textAlign = 'left';\n  }\n\n  // Anchor lost notification banner (center top, below cable notification)\n  if (hud.anchorLost && gameFrame - hud.anchorLostTime < 1800) { // Show for 30 seconds\n    const elapsed = gameFrame - hud.anchorLostTime;\n    const opacity = elapsed < 1740 ? 1.0 : (1800 - elapsed) / 60; // Fade out in last 1s\n\n    const bannerWidth = 450;\n    const bannerHeight = 80;\n    const bannerX = (canvas.width - bannerWidth) / 2;\n    const bannerY = 100; // Below cable notification\n\n    // Background\n    ctx.globalAlpha = opacity * 0.95;\n    ctx.fillStyle = 'rgba(139, 0, 0, 0.95)'; // Dark red background\n    ctx.fillRect(bannerX, bannerY, bannerWidth, bannerHeight);\n\n    // Border\n    ctx.strokeStyle = '#ff6b7a';\n    ctx.lineWidth = 3;\n    ctx.strokeRect(bannerX, bannerY, bannerWidth, bannerHeight);\n\n    // Warning icon and title\n    ctx.fillStyle = '#ff6b7a';\n    ctx.font = 'bold 18px sans-serif';\n    ctx.textAlign = 'center';\n    ctx.fillText('âš  ANCHOR LOST! âš ', bannerX + bannerWidth / 2, bannerY + 25);\n\n    // Message (different based on loss reason)\n    ctx.fillStyle = '#e8e8d8';\n    ctx.font = 'bold 14px sans-serif';\n    const lossMessage = hud.anchorLossReason === 'cable'\n      ? 'Cable was too strong!'\n      : 'Anchor stayed too deep!';\n    ctx.fillText(lossMessage, bannerX + bannerWidth / 2, bannerY + 48);\n\n    // Remaining anchors\n    ctx.font = '12px sans-serif';\n    const anchorText = hud.remainingAnchors > 0\n      ? `${hud.remainingAnchors} anchor${hud.remainingAnchors === 1 ? '' : 's'} remaining`\n      : 'NO ANCHORS LEFT - MISSION FAILED!';\n    ctx.fillStyle = hud.remainingAnchors > 0 ? '#fffa80' : '#ff6b7a';\n    ctx.fillText(anchorText, bannerX + bannerWidth / 2, bannerY + 68);\n\n    ctx.globalAlpha = 1.0;\n    ctx.textAlign = 'left';\n  }\n\n  // Mission success notification banner (center, prominent)\n  if (hud.missionSuccess && gameFrame - hud.successTime < 3600) { // Show for 60 seconds\n    const elapsed = gameFrame - hud.successTime;\n    const opacity = elapsed < 3540 ? 1.0 : (3600 - elapsed) / 60; // Fade out in last 1s\n\n    const bannerWidth = 500;\n    const bannerHeight = 100;\n    const bannerX = (canvas.width - bannerWidth) / 2;\n    const bannerY = 190; // Center of screen\n\n    // Background with green glow\n    ctx.globalAlpha = opacity * 0.98;\n    ctx.fillStyle = 'rgba(42, 133, 149, 0.98)'; // Teal/cyan background\n    ctx.fillRect(bannerX, bannerY, bannerWidth, bannerHeight);\n\n    // Border\n    ctx.strokeStyle = '#a8f088';\n    ctx.lineWidth = 4;\n    ctx.strokeRect(bannerX, bannerY, bannerWidth, bannerHeight);\n\n    // Success icon and title\n    ctx.fillStyle = '#a8f088';\n    ctx.font = 'bold 24px sans-serif';\n    ctx.textAlign = 'center';\n    ctx.fillText('â˜… MISSION SUCCESS! â˜…', bannerX + bannerWidth / 2, bannerY + 30);\n\n    // Cable name\n    ctx.fillStyle = hud.lastCableCut.color;\n    ctx.font = 'bold 18px sans-serif';\n    ctx.fillText(hud.lastCableCut.name.toUpperCase() + ' SEVERED', bannerX + bannerWidth / 2, bannerY + 56);\n\n    // Message\n    ctx.fillStyle = '#e8e8d8';\n    ctx.font = 'bold 14px sans-serif';\n    ctx.fillText('Critical infrastructure disrupted!', bannerX + bannerWidth / 2, bannerY + 80);\n\n    ctx.globalAlpha = 1.0;\n    ctx.textAlign = 'left';\n  }\n\n  // Left side - Mission stats (simplified)\n  const leftX = 20;\n  // Use dynamic optimal range\n  const minOptimal = Math.floor(hud.depth * (hud.optimalCenterDepth - hud.optimalVariance));\n  const maxOptimal = Math.floor(hud.depth * (hud.optimalCenterDepth + hud.optimalVariance));\n  const anchorInSweetSpot = hud.isAnchorDown;\n\n  // Danger zone calculations (shared across HUD elements)\n  const anchorLossThreshold = hud.depth * 5;\n  const dangerZoneEnd = hud.depth * 7; // Red zone extends to bottom of gauge\n  const inDangerZone = tanker.chainLength > maxOptimal && tanker.chainLength <= dangerZoneEnd;\n\n  // Display remaining anchors prominently\n  ctx.fillStyle = '#e8e8d8';\n  ctx.font = 'bold 14px sans-serif';\n  const anchorDisplay = 'âš“'.repeat(hud.remainingAnchors) + 'âœ—'.repeat(2 - hud.remainingAnchors);\n  ctx.fillText(`Anchors: ${anchorDisplay} | Cables: ${hud.cablesCut}`, leftX, 30);\n\n  // Debug: Log anchor count when it changes\n  if (gameFrame % 60 === 0) {\n    console.log(`Frame ${gameFrame}: Anchors remaining = ${hud.remainingAnchors}, Display = ${anchorDisplay}`);\n  }\n\n  // Anchor status with proper states\n\n  ctx.font = 'bold 15px sans-serif';\n\n  if (tanker.chainLength >= anchorLossThreshold) {\n    // State 6: Critical danger - anchor too deep, about to be lost\n    ctx.fillStyle = '#ff6b7a';\n    ctx.fillText(`âš  ANCHOR DANGER`, leftX, 60);\n    ctx.font = '12px sans-serif';\n\n    // Show countdown timer if in danger zone\n    if (hud.anchorDangerStartTime > 0) {\n      const timeInDanger = gameFrame - hud.anchorDangerStartTime;\n      const timeRemaining = Math.max(0, 300 - timeInDanger);\n      const secondsRemaining = Math.ceil(timeRemaining / 60);\n      ctx.fillText(`ANCHOR LOST IN ${secondsRemaining}s!`, leftX, 80);\n    } else {\n      ctx.fillText(`TOO DEEP! Reel up now!`, leftX, 80);\n    }\n  } else if (inDangerZone) {\n    // State 5: Red zone - too deep, reduced cable cutting efficiency\n    ctx.fillStyle = '#ffa940';\n    ctx.fillText(`âš  TOO DEEP`, leftX, 60);\n    ctx.font = '12px sans-serif';\n    ctx.fillText(`Low efficiency - optimal: ${minOptimal}-${maxOptimal}m`, leftX, 80);\n  } else if (tanker.chainLength === 0) {\n    // State 1: Anchor up - not deployed\n    ctx.fillStyle = '#5a8ca8';\n    ctx.fillText(`ANCHOR UP`, leftX, 60);\n    ctx.font = '12px sans-serif';\n    ctx.fillText(`Deploy to drag seabed`, leftX, 80);\n  } else if (tanker.chainLength < hud.depth) {\n    // State 2: Anchor lowered - deployed but not touching seabed\n    ctx.fillStyle = '#5a8ca8';\n    ctx.fillText(`ANCHOR LOWERED`, leftX, 60);\n    ctx.font = '12px sans-serif';\n    ctx.fillText(`Need ${hud.depth - tanker.chainLength}m more`, leftX, 80);\n  } else if (anchorInSweetSpot) {\n    // State 4: Dragging at optimal depth (green zone)\n    ctx.fillStyle = '#a8f088';\n    ctx.fillText(`âš“ DRAGGING`, leftX, 60);\n    ctx.font = '13px sans-serif';\n    ctx.fillText(`${hud.cablesCut} cables | ${(hud.draggedInMeters / 1000).toFixed(1)}km`, leftX, 80);\n  } else {\n    // State 3: Dragging - touching seabed but not in optimal range\n    ctx.fillStyle = '#fffa80';\n    ctx.fillText(`âš  DRAGGING`, leftX, 60);\n    ctx.font = '12px sans-serif';\n    ctx.fillText(`Target: ${minOptimal}-${maxOptimal}m`, leftX, 80);\n  }\n\n  // Right side - Detection risk meter\n  const meterWidth = 180;\n  const meterHeight = 24;\n  const meterX = canvas.width - meterWidth - 20;\n  const meterY = 20;\n\n  // Detection Risk Label\n  ctx.font = 'bold 13px sans-serif';\n  ctx.fillStyle = '#e8e8d8';\n  ctx.fillText('DETECTION', meterX, meterY - 6);\n\n  // Meter background\n  ctx.fillStyle = 'rgba(21, 38, 47, 0.8)';\n  ctx.fillRect(meterX, meterY, meterWidth, meterHeight);\n\n  // Risk bar color based on level\n  let riskColor;\n  if (detectionRisk < 30) {\n    riskColor = '#a8f088'; // Green - safe\n  } else if (detectionRisk < 60) {\n    riskColor = '#fffa80'; // Yellow - caution\n  } else {\n    riskColor = '#ff6b7a'; // Red - danger\n  }\n\n  // Fill risk meter\n  const riskWidth = (detectionRisk / 100) * meterWidth;\n  ctx.fillStyle = riskColor;\n  ctx.fillRect(meterX, meterY, riskWidth, meterHeight);\n\n  // Meter border\n  ctx.strokeStyle = '#5a8ca8';\n  ctx.lineWidth = 2;\n  ctx.strokeRect(meterX, meterY, meterWidth, meterHeight);\n\n  // Risk percentage text\n  ctx.font = 'bold 14px sans-serif';\n  ctx.fillStyle = '#0a1a24';\n  ctx.textAlign = 'center';\n  if (detectionRisk > 15) {\n    ctx.fillText(`${Math.round(detectionRisk)}%`, meterX + meterWidth / 2, meterY + 18);\n  }\n  ctx.textAlign = 'left';\n\n  // Risk status text\n  ctx.font = '11px sans-serif';\n  ctx.fillStyle = riskColor;\n  let statusText = 'CLEAR';\n  if (detectionRisk >= 60) statusText = 'DANGER';\n  else if (detectionRisk >= 30) statusText = 'CAUTION';\n  ctx.textAlign = 'center';\n  ctx.fillText(statusText, meterX + meterWidth / 2, meterY + meterHeight + 14);\n  ctx.textAlign = 'left';\n\n  // Chain depth gauge (right side, below detection meter)\n  const gaugeX = canvas.width - 70;\n  const gaugeY = 70;\n  const gaugeHeight = 140;\n  const gaugeWidth = 35;\n\n  // Fixed scale based on seabed depth: always show 0 to 7x depth\n  // This covers: seabed (1x ~14%), green zone (~38-47%), red danger zone (50-100%, lower half)\n  const gaugeMaxValue = hud.depth * 7;\n\n  // Label with current chain length\n  ctx.font = 'bold 10px sans-serif';\n  ctx.fillStyle = '#e8e8d8';\n  ctx.textAlign = 'center';\n  ctx.fillText('CHAIN', gaugeX + gaugeWidth / 2, gaugeY - 8);\n\n  // Gauge background\n  ctx.fillStyle = 'rgba(21, 38, 47, 0.8)';\n  ctx.fillRect(gaugeX, gaugeY, gaugeWidth, gaugeHeight);\n\n  // Seabed depth reference line\n  const seabedPos = (hud.depth / gaugeMaxValue) * gaugeHeight;\n  if (seabedPos <= gaugeHeight) {\n    ctx.fillStyle = 'rgba(42, 133, 149, 0.4)';\n    ctx.fillRect(gaugeX, gaugeY + seabedPos - 1, gaugeWidth, 2);\n  }\n\n  // Optimal cutting zone (green zone - dynamically calculated based on cable depth variance)\n  // Typically ~2.7x-3.3x depth (center 3.0x Â± 0.3x variance)\n  const minOptimalPos = Math.min((minOptimal / gaugeMaxValue) * gaugeHeight, gaugeHeight);\n  const maxOptimalPos = Math.min((maxOptimal / gaugeMaxValue) * gaugeHeight, gaugeHeight);\n\n  // Orange transition zone (between green and red)\n  const orangeZoneStart = maxOptimal; // Starts right after green zone ends (~3.3x)\n  const orangeZoneEnd = hud.depth * 3.5; // Ends where red zone starts (3.5x)\n  const orangeZoneStartPos = Math.min((orangeZoneStart / gaugeMaxValue) * gaugeHeight, gaugeHeight);\n  const orangeZoneEndPos = Math.min((orangeZoneEnd / gaugeMaxValue) * gaugeHeight, gaugeHeight);\n\n  // Danger zone (red zone in lower HALF of gauge - starts at 3.5x depth)\n  // Gauge shows 0 to 7x depth, so 3.5x depth is exactly halfway\n  const dangerZoneStart = hud.depth * 3.5; // Start red zone at halfway point\n  const dangerZoneStartPos = Math.min((dangerZoneStart / gaugeMaxValue) * gaugeHeight, gaugeHeight);\n  const dangerZoneEndPos = gaugeHeight; // Red zone extends to bottom of gauge (7x depth)\n\n  // Always draw green zone (reference zone for optimal cable cutting)\n  if (maxOptimalPos > minOptimalPos) {\n    ctx.fillStyle = 'rgba(168, 240, 136, 0.25)';\n    ctx.fillRect(gaugeX, gaugeY + minOptimalPos, gaugeWidth, maxOptimalPos - minOptimalPos);\n\n    // Draw zone boundaries\n    ctx.fillStyle = '#a8f088';\n    if (minOptimalPos < gaugeHeight) {\n      ctx.fillRect(gaugeX, gaugeY + minOptimalPos - 1, gaugeWidth, 2);\n    }\n    if (maxOptimalPos < gaugeHeight) {\n      ctx.fillRect(gaugeX, gaugeY + maxOptimalPos - 1, gaugeWidth, 2);\n    }\n  }\n\n  // Draw orange transition zone (between green and red)\n  if (orangeZoneEndPos > orangeZoneStartPos && orangeZoneStartPos < gaugeHeight) {\n    const zoneHeight = orangeZoneEndPos - orangeZoneStartPos;\n    ctx.fillStyle = 'rgba(255, 169, 64, 0.25)'; // Slight orange/amber\n    ctx.fillRect(gaugeX, gaugeY + orangeZoneStartPos, gaugeWidth, zoneHeight);\n\n    // Draw orange zone boundary at the top\n    if (orangeZoneStartPos < gaugeHeight) {\n      ctx.fillStyle = '#ffa940';\n      ctx.fillRect(gaugeX, gaugeY + orangeZoneStartPos - 1, gaugeWidth, 2);\n    }\n  }\n\n  // Always draw red danger zone (reference zone for too deep)\n  if (dangerZoneEndPos > dangerZoneStartPos && dangerZoneStartPos < gaugeHeight) {\n    const zoneHeight = dangerZoneEndPos - dangerZoneStartPos;\n    ctx.fillStyle = 'rgba(255, 107, 122, 0.3)';\n    ctx.fillRect(gaugeX, gaugeY + dangerZoneStartPos, gaugeWidth, zoneHeight);\n\n    // Draw danger zone boundary at the top of red zone\n    if (dangerZoneStartPos < gaugeHeight) {\n      ctx.fillStyle = '#ff6b7a';\n      ctx.fillRect(gaugeX, gaugeY + dangerZoneStartPos - 1, gaugeWidth, 2);\n    }\n  }\n\n  // Current anchor position indicator (using inDangerZone from above)\n  const anchorPos = Math.min((tanker.chainLength / gaugeMaxValue) * gaugeHeight, gaugeHeight);\n\n  ctx.beginPath();\n  ctx.moveTo(gaugeX - 5, gaugeY + anchorPos);\n  ctx.lineTo(gaugeX + gaugeWidth + 5, gaugeY + anchorPos);\n  ctx.lineWidth = 3;\n  // Red if in danger zone, green if in sweet spot, blue otherwise\n  ctx.strokeStyle = inDangerZone ? '#ff6b7a' : (anchorInSweetSpot ? '#a8f088' : '#5a8ca8');\n  ctx.stroke();\n\n  // Gauge border\n  ctx.strokeStyle = '#5a8ca8';\n  ctx.lineWidth = 2;\n  ctx.strokeRect(gaugeX, gaugeY, gaugeWidth, gaugeHeight);\n\n  // Current chain length below gauge\n  ctx.font = '10px sans-serif';\n  ctx.fillStyle = '#e8e8d8';\n  ctx.fillText(`${tanker.chainLength}m`, gaugeX + gaugeWidth / 2, gaugeY + gaugeHeight + 12);\n\n  // Seabed depth graph (bottom left) - 50% past, 50% future\n  if (hud.depthHistory.length > 0 || hud.futureDepths.length > 0) {\n    const graphWidth = 180;\n    const graphHeight = 45;\n    const graphX = 20;\n    const graphY = canvas.height - graphHeight - 20;\n\n    // Label\n    ctx.font = 'bold 10px sans-serif';\n    ctx.fillStyle = '#e8e8d8';\n    ctx.textAlign = 'left';\n    ctx.fillText('SEABED', graphX, graphY - 8);\n\n    // Background\n    ctx.fillStyle = 'rgba(21, 38, 47, 0.8)';\n    ctx.fillRect(graphX, graphY, graphWidth, graphHeight);\n\n    // Combine past, current, and future depths\n    const allDepths = [...hud.depthHistory, hud.depth, ...hud.futureDepths];\n    const totalPoints = allDepths.length;\n    const shipIndex = hud.depthHistory.length; // Ship is right after history\n\n    const maxDepth = Math.max(...allDepths, 470);\n    const minDepth = Math.min(...allDepths, 20);\n    const depthRange = maxDepth - minDepth || 100; // Avoid division by zero\n\n    // Draw past depths (left half, dimmer)\n    ctx.strokeStyle = 'rgba(42, 133, 149, 0.5)'; // Dimmer for past\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n\n    for (let i = 0; i < totalPoints; i++) {\n      const x = graphX + (i / (totalPoints - 1)) * graphWidth;\n      const normalizedDepth = (allDepths[i] - minDepth) / depthRange;\n      const y = graphY + graphHeight - (normalizedDepth * graphHeight);\n\n      // Change color at ship position\n      if (i === shipIndex) {\n        ctx.stroke(); // Finish past line\n        ctx.strokeStyle = '#2a8595'; // Brighter for future\n        ctx.beginPath();\n        ctx.moveTo(x, y);\n      } else if (i === 0) {\n        ctx.moveTo(x, y);\n      } else {\n        ctx.lineTo(x, y);\n      }\n    }\n    ctx.stroke();\n\n    // Ship position indicator (vertical line at center)\n    const shipX = graphX + (shipIndex / (totalPoints - 1)) * graphWidth;\n    ctx.strokeStyle = 'rgba(255, 169, 64, 0.6)'; // Orange line for ship position\n    ctx.lineWidth = 2;\n    ctx.setLineDash([4, 4]); // Dashed line\n    ctx.beginPath();\n    ctx.moveTo(shipX, graphY);\n    ctx.lineTo(shipX, graphY + graphHeight);\n    ctx.stroke();\n    ctx.setLineDash([]); // Reset to solid line\n\n    // Current depth indicator (dot at ship position)\n    const currentNormalized = (hud.depth - minDepth) / depthRange;\n    const currentY = graphY + graphHeight - (currentNormalized * graphHeight);\n    ctx.fillStyle = '#ffa940'; // Orange dot\n    ctx.beginPath();\n    ctx.arc(shipX, currentY, 4, 0, Math.PI * 2);\n    ctx.fill();\n    // Outline for better visibility\n    ctx.strokeStyle = '#e8e8d8';\n    ctx.lineWidth = 1;\n    ctx.stroke();\n\n    // Border\n    ctx.strokeStyle = '#5a8ca8';\n    ctx.lineWidth = 2;\n    ctx.strokeRect(graphX, graphY, graphWidth, graphHeight);\n\n    // Current depth text\n    ctx.font = '10px sans-serif';\n    ctx.fillStyle = '#e8e8d8';\n    ctx.textAlign = 'left';\n    ctx.fillText(`Depth: ${hud.depth}m`, graphX, graphY + graphHeight + 12);\n  }\n\n  // Cable breakdown stats (bottom right)\n  if (hud.cablesCut > 0) {\n    const statsX = canvas.width - 200;\n    const statsY = canvas.height - 130;\n    const statsWidth = 180;\n    const statsHeight = 110;\n\n    // Background\n    ctx.fillStyle = 'rgba(21, 38, 47, 0.8)';\n    ctx.fillRect(statsX, statsY, statsWidth, statsHeight);\n\n    // Border\n    ctx.strokeStyle = '#5a8ca8';\n    ctx.lineWidth = 2;\n    ctx.strokeRect(statsX, statsY, statsWidth, statsHeight);\n\n    // Title\n    ctx.font = 'bold 10px sans-serif';\n    ctx.fillStyle = '#e8e8d8';\n    ctx.textAlign = 'left';\n    ctx.fillText('CABLES DAMAGED', statsX + 10, statsY + 15);\n\n    // Cable type breakdown\n    ctx.font = '10px sans-serif';\n    let yOffset = 30;\n\n    const cableOrder = ['HVDC', 'MILITARY', 'FIBER', 'RESEARCH', 'SCRAP'];\n    cableOrder.forEach(type => {\n      const count = hud.cablesByType[type];\n      if (count > 0) {\n        const cable = CABLE_TYPES[type];\n        ctx.fillStyle = cable.color;\n        ctx.fillText(`${count}Ã— ${cable.name}`, statsX + 10, statsY + yOffset);\n        yOffset += 14;\n      }\n    });\n\n    // Total\n    ctx.font = 'bold 11px sans-serif';\n    ctx.fillStyle = '#a8f088';\n    ctx.fillText(`Total: ${hud.cablesCut}`, statsX + 10, statsY + statsHeight - 10);\n  }\n\n  ctx.textAlign = 'left';\n  ctx.restore();\n}\n\nlet backgroundSoundsStarted = false;\n\nfunction backgroundSounds() {\n  if (backgroundSoundsStarted) return; // Only start once\n\n  music.volume = 0.75;\n  music.play().catch(err => console.log('Music play failed:', err));\n\n  wind1.volume = 0.005;\n  wind1.play().catch(err => console.log('Wind play failed:', err));\n\n  waves.volume = 0.05;\n  waves.play().catch(err => console.log('Waves play failed:', err));\n\n  ship.volume = 0.01;\n  ship.play().catch(err => console.log('Ship play failed:', err));\n\n  backgroundSoundsStarted = true;\n}\n\nfunction randomCreaks() {\n  if (gameFrame % randomBetween(2000, 6000) === 0) {\n    const audioKey = `metal${randomBetween(1, 5)}`;\n    const audio = audioElements[audioKey];\n    if (audio) {\n      audio.volume = 0.1;\n      audio.play().catch(() => { });\n    }\n  }\n}\n\nlet animationId;\nfunction animate() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  if (!isPaused) {\n    backgroundSounds();\n    randomCreaks();\n    createBackground();\n    createHud();\n    createTanker();\n    createPatrols();\n    updateParticles(); // Draw particle effects\n    gameFrame++;\n  } else {\n    // Still draw static elements when paused\n    createBackground();\n    createTanker();\n    createPatrols();\n  }\n\n  drawHUD(); // Always draw HUD\n\n  // Win condition: Successfully cut a critical cable\n  if (hud.missionSuccess) {\n    // Set success message\n    const successCable = document.getElementById('success-cable');\n    if (hud.lastCableCut) {\n      successCable.textContent = `${hud.lastCableCut.name.toUpperCase()} SEVERED`;\n    }\n\n    document.getElementById('success').style.display = 'flex';\n    cancelAnimationFrame(animationId);\n    return; // Stop the animation loop\n  }\n  // Game over conditions: too many warnings OR detection risk reaches 100% OR no anchors left\n  else if (warnings > 1000 || detectionRisk >= 100 || hud.remainingAnchors <= 0) {\n    // Set failure message based on cause\n    const restartTitle = document.getElementById('restart-title');\n    const restartMessage = document.getElementById('restart-message');\n\n    if (hud.remainingAnchors <= 0) {\n      restartTitle.textContent = 'âš“ NO ANCHORS LEFT';\n      restartMessage.textContent = 'All anchors lost - Mission failed!';\n    } else if (detectionRisk >= 100) {\n      restartTitle.textContent = 'âš  MISSION COMPROMISED';\n      restartMessage.textContent = 'You were detected by patrol vessels';\n    } else {\n      restartTitle.textContent = 'âš  MISSION FAILED';\n      restartMessage.textContent = 'Too many warnings from patrols';\n    }\n\n    document.getElementById('restart').style.display = 'flex';\n    cancelAnimationFrame(animationId);\n    return; // Stop the animation loop\n  }\n\n  // Continue the animation loop only if game is not over\n  animationId = requestAnimationFrame(animate);\n}\n\n// Wait for DOM to be fully loaded\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initGame);\n} else {\n  initGame();\n}\n\nfunction initGame() {\n  console.log('=== Initializing game ===');\n\n  // Initialize overlays\n  const restartDiv = document.getElementById('restart');\n  const successDiv = document.getElementById('success');\n  const startDiv = document.getElementById('start');\n\n  if (restartDiv) restartDiv.style.display = 'none';\n  if (successDiv) successDiv.style.display = 'none';\n\n  // Play button\n  const playBtn = document.getElementById('play');\n  if (playBtn) {\n    console.log('Setting up play button');\n    playBtn.addEventListener('click', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      console.log('Play button clicked - starting game');\n      if (startDiv) startDiv.style.display = 'none';\n      animate();\n    }, true);\n  } else {\n    console.error('Play button not found!');\n  }\n\n  // Retry button\n  const replayBtn = document.getElementById('replay');\n  if (replayBtn) {\n    console.log('Setting up replay button');\n    replayBtn.addEventListener('click', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      console.log('Retry Mission button clicked - reloading');\n      window.location.reload();\n    }, true);\n  } else {\n    console.error('Replay button not found!');\n  }\n\n  // New Mission button\n  const replaySuccessBtn = document.getElementById('replay-success');\n  if (replaySuccessBtn) {\n    console.log('Setting up replay-success button');\n    replaySuccessBtn.addEventListener('click', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      console.log('New Mission button clicked - reloading');\n      window.location.reload();\n    }, true);\n\n    // Also add mousedown as backup\n    replaySuccessBtn.addEventListener('mousedown', function (e) {\n      console.log('New Mission mousedown event');\n    }, true);\n  } else {\n    console.error('Replay-success button not found!');\n  }\n\n  console.log('Game initialization complete');\n}\n\n// Handle fullscreen canvas resizing\ndocument.addEventListener('fullscreenchange', function () {\n  if (document.fullscreenElement) {\n    // Entering fullscreen - scale canvas while maintaining aspect ratio\n    const aspectRatio = DEFAULT_WIDTH / DEFAULT_HEIGHT; // 1.6\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    const viewportAspectRatio = viewportWidth / viewportHeight;\n\n    let newWidth, newHeight;\n\n    if (viewportAspectRatio > aspectRatio) {\n      // Viewport is wider - scale by height\n      newHeight = viewportHeight;\n      newWidth = newHeight * aspectRatio;\n    } else {\n      // Viewport is taller - scale by width\n      newWidth = viewportWidth;\n      newHeight = newWidth / aspectRatio;\n    }\n\n    canvas.style.width = newWidth + 'px';\n    canvas.style.height = newHeight + 'px';\n    // Keep internal resolution the same\n    canvas.width = DEFAULT_WIDTH;\n    canvas.height = DEFAULT_HEIGHT;\n  } else {\n    // Exiting fullscreen - reset styles\n    canvas.style.width = '800px';\n    canvas.style.height = '500px';\n    canvas.width = DEFAULT_WIDTH;\n    canvas.height = DEFAULT_HEIGHT;\n  }\n  // Reset font size for text rendering\n  ctx.font = '24px sans-serif';\n});\n","module.exports = require('./helpers/bundle-url').getBundleURL('6fFUs') + \"bg.fd22e69c.png\" + \"?\" + Date.now();","\"use strict\";\n\nvar bundleURL = {};\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n  return value;\n}\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n  return '/';\n}\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\n// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n  return matches[0];\n}\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('6fFUs') + \"patrol.dc4a5b23.png\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('6fFUs') + \"tanker-sprite-2.a548ee57.png\" + \"?\" + Date.now();","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n"],"names":[],"version":3,"file":"index.c3fdd8eb.js.map","sourceRoot":"/__parcel_source_root/"}